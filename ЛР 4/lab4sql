--список всех существующих PDB в рамках экземпл€ра ORA12W. 
--ќпределите их текущее состо€ние.
select name, open_mode from v$pdbs;

--запрос к ORA12W, позвол€ющий получить перечень экземпл€ров.
select * from v$instance;

--запрос к ORA12W, позвол€ющий получить перечень установленных компонентов —”Ѕƒ Oracle 12c и их версии и статус
select * from dba_registery;

select comp_id, comp_name, version, status from dba_registry;

--создайте инфраструктурные объекты 
--табличные пространства
create tablespace TS_PVV_PDB
datafile 'C:\labs_bd\lab 4\TS_PVV_PDB.dbf'
size 7m
autoextend on next 5m
maxsize 20m
extent management local;

create temporary tablespace TS_PVV_PDB_TEMP
tempfile 'C:\labs_bd\lab 4\TS_PVV_PDB_TEMP.dbf'
size 5m
autoextend on next 3m
maxsize 30m
extent management local;
--роль
create role RL_PVV_PDB;

grant create session to RL_PVV_PDB;
grant create table to RL_PVV_PDB;
grant create view to RL_PVV_PDB;
grant create procedure to RL_PVV_PDB;
--профиль безопасности
create profile PF_PVV_PDB limit
  password_life_time 180
  sessions_per_user 3
  failed_login_attempts 7
  password_lock_time 1
  password_reuse_time 10
  password_grace_time default
  connect_time 180
  idle_time 30;
--пользовател€ с именем U1_XXX_PDB
create user U1_PVV_PDB identified by 12345
default tablespace TS_PVV_PDB quota unlimited on TS_PVV_PDB
temporary tablespace TS_PVV_PDB_TEMP
profile PF_PVV_PDB
account unlock
password expire;

grant RL_PVV_PDB to U1_PVV_PDB;

--7. ѕодключитесь к пользователю U1_XXX_PDB, с помощью SQL Developer, 
--создайте таблицу XXX_table
create table PVV_table (num int, teacher varchar2(40));
--добавьте в нее строки
insert into PVV_table values (1, 'Teacher1');
insert into PVV_table values (2, 'Teacher2');
insert into PVV_table values (3, 'Teacher3');
-- выполните SELECT-запрос к таблице.
SELECT * FROM PVV_table;

--8. — помощью представлений словар€ базы данных определите,
--все табличные пространства, 
select * from DBA_TABLESPACES; 
--все  файлы (перманентные и временные), 
--все роли (и выданные им привилегии), 
select * from DBA_DATA_FILES;
select * from DBA_TEMP_FILES; 
--профили безопасности,
select * from DBA_PROFILES; 
--всех пользователей  базы данных XXX_PDB и  назначенные им роли.
select * from ALL_USERS; 
select * from DBA_ROLES;

--9. ѕодключитесь  к CDB-базе данных, 
--создайте общего пользовател€ с именем C##XXX
create user c##PVV identified by qwerty
account unlock;
--назначьте ему привилегию, позвол€ющую подключитс€ к базе данных XXX_PDB
grant create session to  C##PVV
